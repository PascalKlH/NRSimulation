{% load static %}
<<<<<<< HEAD
=======
{% load crispy_forms_tags %}
>>>>>>> a8b6987e74094664ade0de6a902412d782cfb234
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Simulation Data Visualization</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link rel="stylesheet" href="{% static 'simapp/style.css' %}">
</head>
<body>
    <div class="container">
        <h1 class="my-4 text-center">Grid-based Polycultural Simulation</h1>

        <!-- Simulation Description -->
        <div class="row">
            <div class="col-12 mb-4">
                <p>This is a simulation of a grid-based polycultural system. Input the parameters and see the results in the form of plots.</p>
            </div>
        </div>

        <!-- Form for Simulation Parameters -->
        <form id="parametersForm" method="post" action="{% url 'run_simulation' %}">
            {% csrf_token %}
<<<<<<< HEAD
            <div class="row">
                <div class="col-12">
                    {{ form.as_p }}
=======
            {{form|crispy}}

            <!-- Placeholder for Dynamic Crop Fields -->
            <div id="cropFieldsContainer" class="mb-3"></div>

            <!-- Buttons to Add/Remove Crop Fields -->
            <div class="row mb-4">
                <div class="col-12 text-center">
                    <button type="button" id="addCropField" class="btn btn-success">Add Crop</button>
                    <button type="button" id="removeCropField" class="btn btn-danger">Remove Crop</button>
                </div>
            </div>

            <div class="row">
                <div class="col-12">
>>>>>>> a8b6987e74094664ade0de6a902412d782cfb234
                    <button type="submit" class="btn btn-primary">Run Simulation</button>
                </div>
            </div>
        </form>

        <!-- Simulation Results Section -->
        <div class="row mt-5">
            <div class="col-12 text-center">
                <h2>Simulation Results</h2>
                <div id="plot1" class="plot-container"></div> <!-- Main Plot -->
            </div>
        </div>

        <!-- Dropdown for Selecting Additional Plots -->
        <div class="row mt-4">
            <div class="col-12 text-center">
<<<<<<< HEAD
                <input type="range" id="dateSlider" min="0" max="0" value="0" class="form-range w-50 mx-auto">
=======
>>>>>>> a8b6987e74094664ade0de6a902412d782cfb234
                <select id="plotSelector" class="form-select w-50 mx-auto">
                    <option value="plot2">Water Over Time</option>
                    <option value="plot3">Overlap Over Time</option>
                    <option value="plot4">Temperature and Humidity Over Time</option>
                    <option value="plot5">Wind Over Time</option>
                    <option value="plot6">Rain Over Time</option>
                </select>
            </div>
        </div>

        <!-- Additional Plots -->
        <div class="row mt-4">
            <div class="col-12">
                <div id="plot2" class="plot-container d-none"></div>
                <div id="plot3" class="plot-container d-none"></div>
                <div id="plot4" class="plot-container d-none"></div>
                <div id="plot5" class="plot-container d-none"></div>
                <div id="plot6" class="plot-container d-none"></div>
            </div>
        </div>

        <!-- Heatmap and Slider -->
        <div class="row mt-4">
            <div class="col-12 text-center">
                <div id="heatmap" class="plot-container"></div>
<<<<<<< HEAD

=======
                <input type="range" id="dateSlider" min="0" max="0" value="0" class="form-range w-50 mx-auto">
>>>>>>> a8b6987e74094664ade0de6a902412d782cfb234
                <label for="dateSlider" class="form-label">Select Date:</label>
                <span id="sliderValue">0</span>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'simapp/script.js' %}"></script>
</body>
</html>
